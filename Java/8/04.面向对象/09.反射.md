# 反射

* 能够分析类能力的程序称为反射(reflective)，其可以：
  * 在运行中分析类
  * 在运行中查看对象
  * 编写泛型数组代码
  * 调用任意方法
* Class 类用于描述 JVM 中使用的类。

## 在运行中分析类

* `java.lang.reflect`中三个重要的类`Field`、`Method`、`Constructor`分别用于描述类的域、方法、构造器。
* `Class`类对象的`getFields`、`getMethods`、`getConstructors`方法将分别返回类提供的public 域、方法和构造器数组（包含超类的公有成员）；`getDeclaredFields`、`getDeclaredMethods`、`getDeclaredConstructors`方法将分别返回类中声明的全部域、方法和构造器数组（但不包含超类的成员）。

## 在运行中分析对象

* 在获取`Field`对象后，通过其`get`方法，可以得到某个对象该字段的值。
* 直接访问私有域，`get`方法会抛出`IllegalAccessException`异常。但如果一个Java程序没有受到安全管理器的控制，就可以通过`Field`对象的`setAccessible`方法覆盖访问控制（`Method`、`Constructor`同理）。
* 通过`get`方法得到的是`Object`。如果字段为基本类型，会将其打包为包装类型，并以`Object`形式返回。
* 通过`set`方法可以修改字段的值。
